# GridWorkflow 2026 ä¸»è®¡åˆ’æ–‡æ¡£

> **ç‰ˆæœ¬**: 2026-01-08  
> **çŠ¶æ€**: ğŸ“‹ è®¡åˆ’æ‰§è¡Œä¸­  
> **é¡¹ç›®é˜¶æ®µ**: MVP å®Œæˆ â†’ ç”Ÿäº§åŠ å›º  
> âš ï¸ **å†…éƒ¨é¡¹ç›®**: æœ¬é¡¹ç›®ä¸ºä¼ä¸šå†…éƒ¨å¼€å‘é¡¹ç›®ï¼Œä»…ä¾›æˆæƒäººå‘˜ä½¿ç”¨ã€‚

---

## ğŸ“– ç›®å½•

1. [æ–‡æ¡£åˆ†ç±»æ€»è§ˆ](#1-æ–‡æ¡£åˆ†ç±»æ€»è§ˆ)
2. [å½“å‰çŠ¶æ€è¯„ä¼°](#2-å½“å‰çŠ¶æ€è¯„ä¼°)
3. [æ•´åˆè®¡åˆ’è·¯çº¿å›¾](#3-æ•´åˆè®¡åˆ’è·¯çº¿å›¾)
4. [ä¸‹ä¸€é˜¶æ®µå®æ–½æ–¹æ¡ˆ](#4-ä¸‹ä¸€é˜¶æ®µå®æ–½æ–¹æ¡ˆ)
5. [è¿è¡Œæµ‹è¯•æ¡ä»¶](#5-è¿è¡Œæµ‹è¯•æ¡ä»¶)
6. [éƒ¨ç½²æŒ‡å¯¼æ–¹æ¡ˆ](#6-éƒ¨ç½²æŒ‡å¯¼æ–¹æ¡ˆ)
7. [é£é™©ä¸ç¼“è§£](#7-é£é™©ä¸ç¼“è§£)

---

## 1. æ–‡æ¡£åˆ†ç±»æ€»è§ˆ

### 1.1 âœ… å·²å®Œæˆå·¥ä½œ (å½’æ¡£å‚è€ƒ)

| æ–‡æ¡£ | è¯„ä»· | å»ºè®® |
|------|------|------|
| `PLAN-00_BOOTSTRAP.md` | âœ… **å®Œæˆ** - é¡¹ç›®éª¨æ¶å·²å»ºç«‹ | å½’æ¡£ä¸ºå†å²å‚è€ƒ |
| `PLAN-01_BACKEND_PROXY.md` | âœ… **å®Œæˆ** - AI Gateway ä»£ç†å·²å®ç° | å½’æ¡£ |
| `PLAN-02_VIDEO_SORA2.md` | âœ… **å®Œæˆ** - è§†é¢‘ç”Ÿæˆæ¥å£å·²å®ç° | å½’æ¡£ |
| `PLAN-03_STORAGE_COS.md` | âœ… **å®Œæˆ** - COS å­˜å‚¨å·²é›†æˆ | å½’æ¡£ |
| `PLAN-04_FRONTEND_SHELL.md` | âœ… **å®Œæˆ** - å‰ç«¯åŸºåº§å·²è¿ç§» | å½’æ¡£ |
| `PLAN-05_GRIDWORKFLOW_FLOW.md` | âœ… **å®Œæˆ** - å››æ­¥å·¥ä½œæµå·²å®ç° | å½’æ¡£ |
| `PLAN-06_VIDEO_STUDIO_UI.md` | âœ… **å®Œæˆ** - è§†é¢‘å·¥ä½œå° UI å·²å®Œæˆ | å½’æ¡£ |
| `PLAN-08_VERCEL_DEPLOY.md` | âœ… **å®Œæˆ** - Vercel éƒ¨ç½²å·²é€‚é… | å½’æ¡£ |
| `PLAN-09_SUPABASE.md` | âœ… **å®Œæˆ** - Supabase è®¤è¯å·²é›†æˆ | å½’æ¡£ |
| `PLAN-10_IP_ALLOWLIST.md` | âœ… **å®Œæˆ** - IP ç™½åå•å·²å®ç° | å½’æ¡£ |
| `PLAN-11_MIGRATION_ACTIONS.md` | âœ… **å®Œæˆ** - è¿ç§»å·²å®Œæˆ | å½’æ¡£ |
| `PLAN-12_DETACH_TO_NEW_REPO.md` | âœ… **å®Œæˆ** - ä»“åº“å·²ç‹¬ç«‹ | å½’æ¡£ |

**è¯„ä»·è¯´æ˜**ï¼š
- é¡¹ç›® MVP æ ¸å¿ƒåŠŸèƒ½å·²å…¨éƒ¨å®ç°
- å‰åç«¯åˆ†ç¦»æ¶æ„ç¨³å®šè¿è¡Œ
- Vercel + Supabase + COS äº‘ç«¯åŸºç¡€è®¾æ–½å°±ç»ª
- äº”æ­¥è§†é¢‘ç”Ÿæˆå·¥ä½œæµå®Œæ•´å¯ç”¨

### 1.2 ğŸ“¦ å½’æ¡£è¿‡æ—¶æ–‡æ¡£ (ä»…ä½œå†å²å‚è€ƒ)

| æ–‡æ¡£ | çŠ¶æ€ | åŸå›  |
|------|------|------|
| `PLAN-07_DATA_FUTURE_MYSQL.md` | âšª **è¿‡æ—¶** | å·²é€‰ç”¨ Supabase PostgreSQLï¼ŒMySQL é¢„ç•™ä¸å†éœ€è¦ |
| `AUDIT_REPORT.md` | âšª **è¿‡æ—¶** | å±äºæ¯ä½“ä»“åº“é—ç•™ï¼Œå·²æœ‰æ–°å®¡è®¡æŠ¥å‘Š |
| `FULL_PROJECT_CODE_AUDIT_REPORT.md` | âšª **è¿‡æ—¶** | å±äºæ¯ä½“ä»“åº“å®¡è®¡ï¼Œä¸å½“å‰é¡¹ç›®ç»“æ„ä¸ç¬¦ |
| `docs/reference/mother/` | âšª **å½’æ¡£** | è¿ç§»å‚è€ƒä»£ç ï¼Œå·²å®Œæˆä½¿å‘½ |

**å»ºè®®å¤„ç†**ï¼š
- åˆ›å»º `docs/archive/` ç›®å½•
- å°†ä¸Šè¿°æ–‡æ¡£ç§»å…¥å½’æ¡£ç›®å½•
- ä¿ç•™ä½œä¸ºå†å²å†³ç­–å‚è€ƒ

### 1.3 ğŸ”§ å¾…å¤„ç†äº‹é¡¹ (éœ€æ¨è¿›)

| æ–‡æ¡£ | ä¼˜å…ˆçº§ | é¢„ä¼°å·¥æ—¶ | çŠ¶æ€ |
|------|--------|----------|------|
| `PLAN-v1.1-02_WORKFLOW_PERSISTENCE.md` | **P0** | 5-7 å¤© | å¾…å®æ–½ |
| `PLAN-v1.2-03_TASK_QUEUE.md` | **P0** | 7-10 å¤© | å¾…å®æ–½ |
| `PLAN-DEBT-01_TESTING.md` | **P0** | 15-20 å¤© | å¾…å®æ–½ |
| `PLAN-v1.1-01_PERFORMANCE.md` | P1 | 3-4 å¤© | å¾…å®æ–½ |
| `PLAN-v1.1-03_SENTRY_MONITORING.md` | P1 | 2-3 å¤© | å¾…å®æ–½ |
| `PLAN-v1.2-01_MULTI_TENANCY.md` | P1 | 10-15 å¤© | å¾…å®æ–½ |
| `PLAN-v1.2-02_BYOK.md` | P1 | 5-7 å¤© | å¾…å®æ–½ |
| `PLAN-DEBT-02_API_DOCS.md` | P1 | 3-5 å¤© | å¾…å®æ–½ |
| `SECURITY_IMPROVEMENT_PLAN.md` | P1 | 5-10 å¤© | å¾…å®æ–½ |
| `PLAN-v2.0-01_MODEL_EXPANSION.md` | P2 | 15-20 å¤© | è¿œæœŸ |
| `PLAN-v2.0-02_COLLABORATION.md` | P2 | 20-30 å¤© | è¿œæœŸ |
| `PLAN-v2.0-03_MOBILE_RESPONSIVE.md` | P2 | 10-15 å¤© | è¿œæœŸ |

### 1.4 ğŸ“š å‚è€ƒæ–‡æ¡£ (æŒç»­æœ‰æ•ˆ)

| æ–‡æ¡£ | ç”¨é€” |
|------|------|
| `README.md` | é¡¹ç›®ä¸»å…¥å£æŒ‡å— |
| `DEPLOY_GUIDE.md` | éƒ¨ç½²æ“ä½œæ‰‹å†Œ |
| `DEBUG_GUIDE.md` | è°ƒè¯•æŒ‡å¯¼æ‰‹å†Œ |
| `SECURITY_IMPROVEMENT_PLAN.md` | å®‰å…¨æ”¹è¿›æ–¹æ¡ˆ |
| `PRECHECK-SEC_ARCH_AGENT.md` | å®‰å…¨/æ¶æ„é—¨ç¦æ¸…å• |
| `PDCA-00_PROJECT_GOVERNANCE.md` | PDCA æ²»ç†åè®® |
| `AGENT-00_WORKSTREAMS.md` | å¤š Agent åä½œè§„èŒƒ |
| `docs/plan/INDEX.md` | è¿­ä»£è§„åˆ’ç´¢å¼• |
| `docs/plan/REVIEW_AND_RECOMMENDATIONS.md` | æ–¹æ¡ˆå®¡æŸ¥ä¸å»ºè®® |
| `docs/report/` | ä»£ç å®¡è®¡æŠ¥å‘Š |
| `docs/specs/` | æŠ€æœ¯è§„èŒƒæ–‡æ¡£ |
| `docs/active/multi-agent/` | å¤šAgentåä½œæ–¹æ¡ˆ |
| `docs/archive/legacy-workpacks/` | æ—§å·¥ä½œåŒ…æ‰§è¡Œè¯æ®ï¼ˆå†å²å‚è€ƒï¼‰ |

---

## 2. å½“å‰çŠ¶æ€è¯„ä¼°

### 2.1 ä»£ç åº“å¥åº·åº¦

| æŒ‡æ ‡ | å½“å‰å€¼ | ç›®æ ‡å€¼ | çŠ¶æ€ |
|------|--------|--------|------|
| æµ‹è¯•è¦†ç›–ç‡ | **0%** | > 70% | ğŸ”´ ä¸¥é‡ |
| åç«¯ API æ•°é‡ | 9 ä¸ª | - | âœ… å®Œæˆ |
| å‰ç«¯ç»„ä»¶æ•° | 12 ä¸ª | - | âœ… å®Œæˆ |
| TypeScript ä¸¥æ ¼æ¨¡å¼ | âŒ | âœ… | ğŸŸ¡ å¾…æ”¹è¿› |
| å®‰å…¨å®¡è®¡ | å·²è¯†åˆ« 8 é¡¹ | 0 é¡¹ | ğŸŸ¡ è¿›è¡Œä¸­ |

### 2.2 å·²å®ç°åŠŸèƒ½

```
âœ… ç”¨æˆ·è®¤è¯ (Supabase Auth + JWT)
âœ… æ¦‚å¿µå›¾ç”Ÿæˆ (Step 1)
âœ… åˆ†é•œè§„åˆ’ (Step 2)
âœ… ä¹å®«æ ¼ç”Ÿæˆ (Step 3)
âœ… è§†é¢‘æç¤ºè¯ç”Ÿæˆ (Step 4)
âœ… è§†é¢‘ç”Ÿæˆä¸çŠ¶æ€è½®è¯¢ (Step 5)
âœ… åª’ä½“æ–‡ä»¶ä¸Šä¼  (COS)
âœ… IP ç™½åå•å¼±é‰´æƒ
âœ… CORS é…ç½®
âœ… Vercel éƒ¨ç½²
```

### 2.3 å¾…è§£å†³çš„å…³é”®é—®é¢˜

| é—®é¢˜ | ä¸¥é‡åº¦ | å¯¹åº”æ–¹æ¡ˆ |
|------|--------|----------|
| åˆ·æ–°é¡µé¢åè¿›åº¦ä¸¢å¤± | ğŸ”´ ä¸¥é‡ | PLAN-v1.1-02 |
| æ— æµ‹è¯•è¦†ç›– | ğŸ”´ ä¸¥é‡ | PLAN-DEBT-01 |
| å®¢æˆ·ç«¯è½®è¯¢èµ„æºæµªè´¹ | ğŸ”´ ä¸¥é‡ | PLAN-v1.2-03 |
| CORS é»˜è®¤ `*` | ğŸŸ¡ ä¸­ç­‰ | SECURITY_IMPROVEMENT_PLAN |
| æ— ç›‘æ§å‘Šè­¦ | ğŸŸ¡ ä¸­ç­‰ | PLAN-v1.1-03 |
| å‰ç«¯æ€§èƒ½æœªä¼˜åŒ– | ğŸŸ¡ ä¸­ç­‰ | PLAN-v1.1-01 |
| æ—  API æ–‡æ¡£ | ğŸŸ¡ ä¸­ç­‰ | PLAN-DEBT-02 |

---

## 3. æ•´åˆè®¡åˆ’è·¯çº¿å›¾

### 3.1 æ€»ä½“è§„åˆ’

```
2026 Q1 (1-3æœˆ)                    2026 Q2 (4-6æœˆ)
â”œâ”€â”€ Phase 1: ç¨³å®šåŠ å›º (4å‘¨)         â”œâ”€â”€ Phase 3: å•†ä¸šåŒ–å‡†å¤‡ (6å‘¨)
â”‚   â”œâ”€â”€ å·¥ä½œæµæŒä¹…åŒ–                â”‚   â”œâ”€â”€ å¤šç§Ÿæˆ·æ¶æ„
â”‚   â”œâ”€â”€ åŸºç¡€æµ‹è¯•ä½“ç³»                â”‚   â”œâ”€â”€ BYOK åŠŸèƒ½
â”‚   â””â”€â”€ Sentry ç›‘æ§                 â”‚   â””â”€â”€ ä»»åŠ¡é˜Ÿåˆ—ç³»ç»Ÿ
â”‚                                   â”‚
â”œâ”€â”€ Phase 2: ç”Ÿäº§å°±ç»ª (4å‘¨)         â””â”€â”€ Phase 4: åŠŸèƒ½æ‰©å±• (æŒç»­)
â”‚   â”œâ”€â”€ å®‰å…¨åŠ å›º                        â”œâ”€â”€ æ¨¡å‹æ‰©å±•
â”‚   â”œâ”€â”€ æ€§èƒ½ä¼˜åŒ–                        â”œâ”€â”€ åä½œåŠŸèƒ½
â”‚   â””â”€â”€ API æ–‡æ¡£                        â””â”€â”€ ç§»åŠ¨ç«¯é€‚é…
```

### 3.2 Phase 1: ç¨³å®šåŠ å›º (P0 - å¿…é¡»å®Œæˆ)

**æ—¶é—´**: 2026å¹´1æœˆç¬¬2å‘¨ - 2æœˆç¬¬1å‘¨ (4å‘¨)

| å‘¨ | ä»»åŠ¡ | äº§å‡º |
|----|------|------|
| W1-2 | å·¥ä½œæµæŒä¹…åŒ– | Supabase è¡¨ + useWorkflowPersistence |
| W2-3 | æµ‹è¯•ä½“ç³»åŸºç¡€ | pytest + vitest æ¡†æ¶ + å…³é”®è·¯å¾„æµ‹è¯• |
| W3-4 | Sentry ç›‘æ§ | å‰åç«¯é”™è¯¯è¿½è¸ª + å‘Šè­¦è§„åˆ™ |

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] åˆ·æ–°é¡µé¢åå·¥ä½œæµçŠ¶æ€å¯æ¢å¤
- [ ] åç«¯æµ‹è¯•è¦†ç›–ç‡ > 50%
- [ ] Sentry å¯æ”¶åˆ°é”™è¯¯æŠ¥å‘Š

### 3.3 Phase 2: ç”Ÿäº§å°±ç»ª (P1)

**æ—¶é—´**: 2026å¹´2æœˆç¬¬2å‘¨ - 3æœˆç¬¬1å‘¨ (4å‘¨)

| å‘¨ | ä»»åŠ¡ | äº§å‡º |
|----|------|------|
| W5 | å®‰å…¨åŠ å›º | CORS é™åˆ¶ + JWT å¼ºåŒ– |
| W6 | æ€§èƒ½ä¼˜åŒ– | æ‡’åŠ è½½ + éª¨æ¶å± + React.memo |
| W7 | API æ–‡æ¡£ | OpenAPI è§„èŒƒ + Swagger UI |
| W8 | å‹åŠ›æµ‹è¯• | å¹¶å‘éªŒè¯ + ç“¶é¢ˆè¯†åˆ« |

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] CORS ä»…å…è®¸ç”Ÿäº§åŸŸå
- [ ] Lighthouse æ€§èƒ½è¯„åˆ† > 80
- [ ] API æ–‡æ¡£å¯åœ¨ /docs è®¿é—®

### 3.4 Phase 3: å•†ä¸šåŒ–å‡†å¤‡ (P1)

**æ—¶é—´**: 2026å¹´3æœˆç¬¬2å‘¨ - 4æœˆç¬¬3å‘¨ (6å‘¨)

| å‘¨ | ä»»åŠ¡ | äº§å‡º |
|----|------|------|
| W9-10 | ä»»åŠ¡é˜Ÿåˆ—ç³»ç»Ÿ | QStash + Supabase Realtime |
| W11-13 | å¤šç§Ÿæˆ·æ”¯æŒ | ç»„ç»‡æ¶æ„ + é…é¢ç³»ç»Ÿ |
| W14 | BYOK åŠŸèƒ½ | ç”¨æˆ· API Key ç®¡ç† |

**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] è§†é¢‘ç”Ÿæˆä½¿ç”¨æ¨é€æ›¿ä»£è½®è¯¢
- [ ] ç”¨æˆ·æ•°æ®å®Œå…¨éš”ç¦»
- [ ] ç”¨æˆ·å¯é…ç½®è‡ªå·±çš„ API Key

### 3.5 Phase 4: åŠŸèƒ½æ‰©å±• (P2 - è¿œæœŸ)

**æ—¶é—´**: 2026å¹´5æœˆèµ· (æŒç»­)

- æ¨¡å‹æ‰©å±•: Runway, Pika ç­‰
- åä½œåŠŸèƒ½: é¡¹ç›®å…±äº«, ç‰ˆæœ¬å†å²
- ç§»åŠ¨ç«¯é€‚é…: å“åº”å¼ UI, PWA

---

## 4. ä¸‹ä¸€é˜¶æ®µå®æ–½æ–¹æ¡ˆ

### 4.1 ç«‹å³æ‰§è¡Œ: å·¥ä½œæµæŒä¹…åŒ–

**è´Ÿè´£äºº**: åç«¯ + å‰ç«¯è”åˆ  
**é¢„ä¼°å·¥æ—¶**: 5-7 å¤©  
**è¯¦ç»†æ–¹æ¡ˆ**: [PLAN-v1.1-02_WORKFLOW_PERSISTENCE.md](./plan/PLAN-v1.1-02_WORKFLOW_PERSISTENCE.md)

**å…³é”®æ­¥éª¤**:
1. åˆ›å»º Supabase è¡¨ (`workflow_sessions`, `video_tasks`)
2. å®ç° `useWorkflowPersistence` Hook
3. æ”¹é€  GridWorkflow ç»„ä»¶
4. å®ç° `/api/v1/video/tasks` åç«¯æ¥å£

**ä¾èµ–**:
- Supabase é¡¹ç›®å·²åˆ›å»º
- åç«¯ Supabase å®¢æˆ·ç«¯é…ç½®

### 4.2 å¹¶è¡Œæ‰§è¡Œ: æµ‹è¯•ä½“ç³»å»ºè®¾

**è´Ÿè´£äºº**: åç«¯ + å‰ç«¯ç‹¬ç«‹  
**é¢„ä¼°å·¥æ—¶**: 10-15 å¤© (å¯å¹¶è¡Œ)  
**è¯¦ç»†æ–¹æ¡ˆ**: [PLAN-DEBT-01_TESTING.md](./plan/PLAN-DEBT-01_TESTING.md)

**å…³é”®æ­¥éª¤**:
1. é…ç½® pytest + pytest-asyncio
2. é…ç½® Vitest + React Testing Library
3. ç¼–å†™ Services å•å…ƒæµ‹è¯•
4. ç¼–å†™ç»„ä»¶æµ‹è¯•
5. é…ç½® GitHub Actions CI

### 4.3 åç»­æ‰§è¡Œ: Sentry ç›‘æ§

**è´Ÿè´£äºº**: è”åˆ  
**é¢„ä¼°å·¥æ—¶**: 2-3 å¤©  
**è¯¦ç»†æ–¹æ¡ˆ**: [PLAN-v1.1-03_SENTRY_MONITORING.md](./plan/PLAN-v1.1-03_SENTRY_MONITORING.md)

**å…³é”®æ­¥éª¤**:
1. æ³¨å†Œ Sentry é¡¹ç›®
2. åç«¯é›†æˆ sentry-sdk
3. å‰ç«¯é›†æˆ @sentry/react
4. é…ç½®å‘Šè­¦è§„åˆ™

---

## 5. è¿è¡Œæµ‹è¯•æ¡ä»¶

### 5.1 ç¯å¢ƒè¦æ±‚

| ç¯å¢ƒ | ç‰ˆæœ¬è¦æ±‚ |
|------|----------|
| Node.js | 18+ (æ¨è 20 LTS) |
| Python | 3.11+ |
| Git | æœ€æ–° |
| npm/pnpm | æœ€æ–° |

### 5.2 å¿…éœ€çš„ API Key å’ŒæœåŠ¡

| æœåŠ¡ | å¿…éœ€ | è·å–æ–¹å¼ | ç”¨é€” |
|------|------|----------|------|
| **AI Gateway API Key** | âœ… æ˜¯ | è”ç³»ç®¡ç†å‘˜è·å– | æ–‡æœ¬/å›¾åƒ/è§†é¢‘ç”Ÿæˆ |
| **Supabase** | âœ… æ˜¯ | https://supabase.com æ³¨å†Œ | ç”¨æˆ·è®¤è¯ + æ•°æ®åº“ |
| **è…¾è®¯äº‘ COS** | âš ï¸ æ¨è | https://cloud.tencent.com | åª’ä½“æ–‡ä»¶å­˜å‚¨ |
| **Sentry** | âŒ å¯é€‰ | https://sentry.io | é”™è¯¯ç›‘æ§ (Phase 1 å) |
| **Upstash** | âŒ å¯é€‰ | https://upstash.com | ä»»åŠ¡é˜Ÿåˆ— (Phase 3) |

### 5.3 ç¯å¢ƒå˜é‡é…ç½®

#### åç«¯ `.env` (å¿…å¡«)

```bash
# AI ç½‘å…³ (å¿…å¡«)
AI_GATEWAY_API_KEY=sk-your-api-key
AI_GATEWAY_BASE_URL=https://ai.t8star.cn/v1

# Supabase (å¿…å¡«)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=eyJhbGci...
SUPABASE_JWT_SECRET=your-jwt-secret

# COS å­˜å‚¨ (æ¨è)
COS_SECRET_ID=your-secret-id
COS_SECRET_KEY=your-secret-key
COS_BUCKET=your-bucket-name
COS_REGION=ap-shanghai

# å®‰å…¨ (ç”Ÿäº§ç¯å¢ƒå¿…å¡«)
ALLOWED_ORIGINS=https://yourdomain.com
IP_ALLOWLIST_ENABLED=false
```

#### å‰ç«¯ `.env` (å¿…å¡«)

```bash
# API åœ°å€
VITE_API_BASE_URL=http://localhost:8000/api/v1

# Supabase
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGci...
```

### 5.4 æœ¬åœ°å¯åŠ¨æ­¥éª¤

```bash
# 1. å…‹éš†ä»“åº“ (ä½¿ç”¨ Gitee å†…éƒ¨å¼€å‘ä¸»ä»“åº“)
git clone https://gitee.com/chengdu-flower-food/grid-workflow.git
cd grid-workflow

# æ³¨æ„ï¼šGitHub ä»“åº“ä»…ç”¨äºå¿«é€Ÿéƒ¨ç½²ï¼Œæ—¥å¸¸å¼€å‘è¯·ä½¿ç”¨ Gitee

# 2. å¯åŠ¨åç«¯ (ç»ˆç«¯ 1)
cd backend
python -m venv .venv
.\.venv\Scripts\activate  # Windows
pip install -r requirements.txt
cp ../.env.example .env   # ç¼–è¾‘å¡«å†™ API Key
uvicorn app.main:app --reload --port 8000

# 3. å¯åŠ¨å‰ç«¯ (ç»ˆç«¯ 2)
cd frontend
npm install
cp env.example .env       # ç¼–è¾‘å¡«å†™é…ç½®
npm run dev
```

### 5.5 éªŒè¯æµ‹è¯•

```bash
# 1. å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# 2. å‰ç«¯è®¿é—®
æ‰“å¼€ http://localhost:5173

# 3. å®Œæ•´æµç¨‹æµ‹è¯•
- æ³¨å†Œ/ç™»å½•è´¦å·
- è¿›å…¥è§†é¢‘å·¥ä½œå°
- å¡«å†™é£æ ¼å’Œå‰§æƒ…
- æ‰§è¡Œ Step 1-5
- éªŒè¯è§†é¢‘ç”Ÿæˆ
```

---

## 6. éƒ¨ç½²æŒ‡å¯¼æ–¹æ¡ˆ

### 6.1 éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Vercel                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Frontend (é™æ€)          Backend (Serverless)           â”‚
â”‚  /index.html              /api/v1/*                     â”‚
â”‚  /assets/*                /health                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Gateway   â”‚    â”‚ Tencent COS   â”‚    â”‚   Supabase    â”‚
â”‚(ai.t8star.cn) â”‚    â”‚ (åª’ä½“å­˜å‚¨)    â”‚    â”‚ (è®¤è¯+æ•°æ®åº“) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 éƒ¨ç½²æ¸…å•

#### å‰ç½®å‡†å¤‡

- [ ] Git ä»“åº“è®¿é—®æƒé™ç¡®è®¤
- [ ] Supabase é¡¹ç›®åˆ›å»ºå®Œæˆ
- [ ] è…¾è®¯äº‘ COS å­˜å‚¨æ¡¶åˆ›å»ºå®Œæˆ
- [ ] AI Gateway API Key è·å–

#### Vercel éƒ¨ç½²

1. **å¯¼å…¥é¡¹ç›®**
   - Vercel Dashboard â†’ Add New â†’ Import Git Repository
   - é€‰æ‹© GridWorkflow ä»“åº“

2. **é…ç½®æ„å»º**
   ```
   Framework Preset: Other
   Build Command: cd frontend && npm install && npm run build
   Output Directory: frontend/dist
   ```

3. **æ·»åŠ ç¯å¢ƒå˜é‡**
   - æŒ‰ 5.3 èŠ‚é…ç½®æ‰€æœ‰å¿…å¡«å˜é‡
   - æ³¨æ„å‰ç«¯å˜é‡ä»¥ `VITE_` å¼€å¤´

4. **éƒ¨ç½²**
   - ç‚¹å‡» Deploy
   - ç­‰å¾… 2-3 åˆ†é’Ÿ

#### éƒ¨ç½²åéªŒè¯

- [ ] `/health` è¿”å› 200
- [ ] å‰ç«¯å¯è®¿é—®
- [ ] ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] Step 1-5 æµç¨‹å¯èµ°é€š
- [ ] è§†é¢‘ç”ŸæˆæˆåŠŸ

### 6.3 ç”Ÿäº§ç¯å¢ƒå®‰å…¨åŠ å›º

```bash
# å¿…é¡»é…ç½®
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# æ¨èé…ç½®
SUPABASE_JWT_SECRET=your-jwt-secret

# Supabase é…ç½®
- Settings â†’ URL Configuration â†’ Site URL: https://yourdomain.com
- Authentication â†’ Redirect URLs: https://yourdomain.com/*

# COS CORS é…ç½®
- Origin: https://yourdomain.com (ä¸è¦ç”¨ *)
```

### 6.4 ç›‘æ§ä¸è¿ç»´

| æœåŠ¡ | ç”¨é€” | æ¨è |
|------|------|------|
| Vercel Analytics | æ€§èƒ½ç›‘æ§ | âœ… å†…ç½® |
| Sentry | é”™è¯¯è¿½è¸ª | âœ… Phase 1 åæ¥å…¥ |
| Uptime Robot | å¯ç”¨æ€§ç›‘æ§ | æ¨è |
| Supabase Dashboard | æ•°æ®åº“ç›‘æ§ | âœ… å†…ç½® |

---

## 7. é£é™©ä¸ç¼“è§£

### 7.1 æŠ€æœ¯é£é™©

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|------|----------|
| AI Gateway ä¸ç¨³å®š | ä¸­ | é«˜ | é‡è¯•æœºåˆ¶ + é™çº§æç¤º |
| Vercel è¶…æ—¶ | ä¸­ | é«˜ | å¼‚æ­¥ä»»åŠ¡åŒ– (Phase 3) |
| Supabase é™åˆ¶ | ä½ | ä¸­ | ç›‘æ§ä½¿ç”¨é‡ + å‡çº§è®¡åˆ’ |
| COS æˆæœ¬è¶…æ”¯ | ä½ | ä¸­ | æ–‡ä»¶å¤§å°é™åˆ¶ + ç”Ÿå‘½å‘¨æœŸ |

### 7.2 å®‰å…¨é£é™©

| é£é™© | å½“å‰çŠ¶æ€ | ç¼“è§£æªæ–½ |
|------|----------|----------|
| CORS è¿‡äºå®½æ¾ | ğŸŸ¡ éœ€æ”¹è¿› | Phase 2 é™åˆ¶åŸŸå |
| JWT éªŒè¯ | âœ… å·²å®ç° | æŒç»­ç›‘æ§ |
| å¯†é’¥æ³„éœ² | âœ… ç¯å¢ƒå˜é‡ | å®šæœŸè½®æ¢ |
| API æ»¥ç”¨ | ğŸŸ¡ éœ€æ”¹è¿› | Phase 3 é…é¢ç³»ç»Ÿ |

### 7.3 é¡¹ç›®é£é™©

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|------|----------|
| éœ€æ±‚å˜æ›´ | ä¸­ | ä¸­ | æ¨¡å—åŒ–è®¾è®¡ + å¿«é€Ÿè¿­ä»£ |
| èµ„æºä¸è¶³ | ä¸­ | é«˜ | ä¼˜å…ˆçº§æ’åº + P0 ä¼˜å…ˆ |
| æŠ€æœ¯å€ºåŠ¡ç§¯ç´¯ | é«˜ | ä¸­ | æŒç»­æµ‹è¯• + ä»£ç å®¡æŸ¥ |

---

## 8. é™„å½•

### 8.1 ç›¸å…³æ–‡æ¡£ç´¢å¼•

- [éƒ¨ç½²æŒ‡å—](./guides/DEPLOY_GUIDE.md)
- [è°ƒè¯•æŒ‡å—](./guides/DEBUG_GUIDE.md)
- [è¿è¡Œç¯å¢ƒè¦æ±‚](./guides/RUNTIME_REQUIREMENTS.md)
- [å®‰å…¨æ”¹è¿›æ–¹æ¡ˆ](./active/phase-2/SECURITY_IMPROVEMENT_PLAN.md)
- [è¿­ä»£è§„åˆ’ç´¢å¼•](./plan/INDEX.md)
- [å¤šAgentæ‰§è¡Œæ–¹æ¡ˆ](./active/multi-agent/MULTI_AGENT_EXECUTION_PLAN.md)
- [ä»£ç å®¡è®¡æŠ¥å‘Š](./report/CODE_AUDIT_REPORT_2026-01-07.md)

### 8.2 å†…éƒ¨è”ç³»æ–¹å¼

- é—®é¢˜è¿½è¸ª: https://gitee.com/chengdu-flower-food/grid-workflow/issues
- é¡¹ç›®ç»´æŠ¤: å†…éƒ¨å¼€å‘å›¢é˜Ÿ

---

**æ–‡æ¡£ç»´æŠ¤è€…**: AI Architect  
**æœ€åæ›´æ–°**: 2026-01-08  
**å®¡æ ¸å‘¨æœŸ**: æ¯å‘¨æ›´æ–°

