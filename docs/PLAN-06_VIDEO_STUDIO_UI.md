# PLAN-06_VIDEO_STUDIO_UI (Sora 风格视频工作台)

**目标**: 打造仿 `sora.chatgpt.com` 的视频生成页面，支持手动与自动两种入口。

## 范围
**包含**:
- `/video` 路由
- Prompt 编辑区 + 参数设置区
- 任务列表 + 进度 + 预览

**不包含**:
- 视频剪辑/合成
- 二次编辑工具

## 关键组件
- `VideoStudioPage.tsx`
- `VideoTaskList.tsx`
- `VideoPreview.tsx`

## 视觉规范
- 默认浅色主题，整体风格对齐当前项目的 Light Theme（专业、现代、偏 Google 风格）。
- 左侧编辑区与右侧任务区需要清晰分区，卡片/分割线/留白一致。
- 任务状态（排队/进行中/成功/失败）需要清晰可读的视觉层级与反馈样式。

## 交互逻辑
- 手动模式: 用户输入 prompt → 生成 → 任务列表追踪
- 自动模式: 从 GridWorkflow 结果一键生成

## Agent 风险点
- 不要把视频任务存到 localStorage 作为唯一来源
- 不要在前端拼接 Sora2 API

## 验收
- 触发生成后显示 task_id
- 视频回传后可播放

## PDCA 钩子
- **Plan**: 明确手动/自动两种入口的状态来源，冻结“前端不拼接 Sora2 API”的边界。
- **Do**: 完成 `/video` 页面最小闭环：输入 → 生成 → 列表追踪 → 预览播放。
- **Check**: 验证任务列表能反映真实状态；验证刷新/重载不会导致任务状态完全丢失（至少有服务端可追踪路径）。
- **Act**: 若发现本地存储成为唯一来源或状态丢失严重，优先补齐服务端任务索引/持久化，再优化 UI 体验。

## Agent 上下文注入包
- **负责人团队**: Gemini (前端)
- **本阶段目标**: 实现 `/video` 页面最小闭环（手动/自动入口）并保持 Light Theme 视觉一致。
- **输入**: 本文档、`PLAN-04_FRONTEND_SHELL.md`（基座与 apiClient）、后端 `/video/generate` 与 `/video/status/{task_id}` 契约。
- **输出**: `/video` 路由页面、任务列表与预览组件、轮询与错误提示策略说明。
- **冻结约束**:
  - UI 文案仅简体中文
  - 不直连外部 Sora2 API，所有调用走后端
  - 轮询间隔 >= 3s
  - 任务列表不能以 localStorage 作为唯一来源
- **禁止事项（高风险）**:
  - 在前端拼接供应商 URL 或泄露签名 URL 参数
  - 刷新即丢失任务且无可追踪路径
- **验收 Checklist**:
  - 触发生成后显示 task_id
  - 状态变化可追踪（进行中/成功/失败）
  - 成功后可播放预览
- **回滚策略**:
  - 若后端未就绪，前端先以 mock 数据保留 UI 结构与交互，再逐步接入真实接口。
